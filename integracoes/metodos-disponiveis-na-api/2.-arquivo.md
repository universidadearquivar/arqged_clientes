# ◼️ 2. Arquivo

## 2.1 GET/api/Arquivo/Get

O objetivo deste método é permitir que o usuário **consulte os arquivos do documento**.

### Entrada

Neste serviço o usuário deve informar o ID do Documento que deseja consultar o(s) arquivo(s).

• idDocumento

### Validações

O sistema valida:

• A permissão do usuário autenticado.

• Se o Id do documento existe e se pertence ao cliente do usuário logado.

### Saída/Retorno

O sistema retorna um JSON completo com os dados do(s) arquivo(s) do documento informado.

Code: 200 - OK

#### Response

```json
{
    "qtdArquivos": 1,//Quantidade de arquivos do documento informado.
    "arquivos": [
        {
            "idImagem": "guid",//id do arquivo
            "nomeDoArquivo": "string",//nome do arquivo
            "versao": "string",//versão do arquivo/imagem
            "binario": "string",//bytes do arquivo/imagem
            "extensao": "string", //extensão/formato do arquivo/imagem
        },
        {
            "idImagem": "guid",//id do arquivo
            "nomeDoArquivo": "string",//nome do arquivo
            "versao": "string",//versão do arquivo/imagem
            "binario": "string",//bytes do arquivo/imagem
            "extensao": "string", //extensão/formato do arquivo/imagem
        }
    ]
}
```

***

## 2.2 POST/api/Arquivo/Post

O objetivo deste método é permitir que o usuário **cadastre arquivos no documento**. O usuário pode incluir no registro um ou mais arquivos.

### Entrada

Neste serviço o usuário deve informar o ID do Documento e o(s) arquivo(s) que serão inseridos ao documento.&#x20;

• idDocumento

• JSON com os dados dos arquivos que serão anexados ao documento informado.

#### Request body

```json
[
  {
    "arquivo": "string ",//bytes do arquivo
    "nomeImagem": "string",//nome do arquivo
    "versao": "string",//versão do arquivo
    "extensao": "string"//extensão do arquivo  
},
  {
    "arquivo": "string ",//bytes do arquivo
    "nomeImagem": "string",//nome do arquivo
    "versao": "string",//versão do arquivo
    "extensao": "string"//extensão do arquivo  
  }
]
```

### Validações

O sistema valida:

• A permissão do usuário autenticado.

• Se o Id do documento existe e se pertence ao cliente do usuário logado.&#x20;

• É obrigatório informar ao menos um arquivo para cadastrar no documento.

• O sistema deve permitir upload do mesmo arquivo para o id documento informado.

### Saída/Retorno

O sistema retorna o Code 200 OK

#### Response

```json
"Ok!"
```

***
